# ResoftAI Enterprise Edition Configuration
# Copy this file to .env and update with your values

# ============================================================================
# Database Configuration
# ============================================================================
# PostgreSQL (recommended for production)
DATABASE_URL=postgresql+asyncpg://resoftai:your_password@localhost:5432/resoftai

# Or SQLite for development/testing
# DATABASE_URL=sqlite+aiosqlite:///./resoftai.db

# ============================================================================
# Security and Authentication
# ============================================================================
# JWT Configuration
JWT_SECRET_KEY=your-secret-key-change-this-in-production-use-strong-random-key
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# CORS Configuration
CORS_ORIGINS=https://yourdomain.com,https://app.yourdomain.com

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=100

# ============================================================================
# LLM Provider Configuration
# ============================================================================
# Default LLM Provider (deepseek, anthropic, zhipu, moonshot, minimax, google)
LLM_PROVIDER=deepseek
LLM_API_KEY=your-llm-api-key-here
LLM_MODEL=deepseek-chat
LLM_API_BASE=

# LLM Request Configuration
LLM_MAX_TOKENS=8192
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.95

# ============================================================================
# API Server Configuration
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=false
API_ENABLE_WEBSOCKET=true

# ============================================================================
# Enterprise Features
# ============================================================================
# Enable enterprise mode
ENTERPRISE_MODE=true

# Organization Settings
ORG_MAX_USERS=100
ORG_MAX_PROJECTS=1000
ORG_MAX_TEAMS=50

# Plugin System
PLUGIN_ENABLED=true
PLUGIN_DIR=/app/plugins
PLUGIN_AUTO_UPDATE=false
PLUGIN_MARKETPLACE_URL=https://marketplace.resoftai.com

# ============================================================================
# Quota Management
# ============================================================================
# Default quotas for organizations
QUOTA_PROJECTS_FREE=5
QUOTA_PROJECTS_STARTER=50
QUOTA_PROJECTS_PROFESSIONAL=500
QUOTA_PROJECTS_ENTERPRISE=unlimited

QUOTA_API_CALLS_FREE=1000
QUOTA_API_CALLS_STARTER=10000
QUOTA_API_CALLS_PROFESSIONAL=100000
QUOTA_API_CALLS_ENTERPRISE=unlimited

QUOTA_STORAGE_FREE=1GB
QUOTA_STORAGE_STARTER=10GB
QUOTA_STORAGE_PROFESSIONAL=100GB
QUOTA_STORAGE_ENTERPRISE=unlimited

QUOTA_LLM_TOKENS_FREE=100000
QUOTA_LLM_TOKENS_STARTER=1000000
QUOTA_LLM_TOKENS_PROFESSIONAL=10000000
QUOTA_LLM_TOKENS_ENTERPRISE=unlimited

# ============================================================================
# SSO/SAML Configuration
# ============================================================================
# Enable SSO
SSO_ENABLED=false

# SAML Configuration
SAML_ENTITY_ID=https://resoftai.yourdomain.com/saml/metadata
SAML_SSO_URL=https://idp.yourdomain.com/saml/sso
SAML_SLO_URL=https://idp.yourdomain.com/saml/slo
SAML_X509_CERT=path/to/idp-certificate.pem

# OAuth2/OIDC Configuration
OAUTH2_CLIENT_ID=your-client-id
OAUTH2_CLIENT_SECRET=your-client-secret
OAUTH2_AUTHORIZE_URL=https://provider.com/oauth2/authorize
OAUTH2_TOKEN_URL=https://provider.com/oauth2/token
OAUTH2_USERINFO_URL=https://provider.com/oauth2/userinfo

# ============================================================================
# Audit Logging
# ============================================================================
# Enable audit logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=90
AUDIT_LOG_EXPORT_FORMAT=json

# ============================================================================
# Redis Configuration (for caching and sessions)
# ============================================================================
REDIS_URL=redis://:your-redis-password@localhost:6379/0
REDIS_ENABLED=true

# ============================================================================
# Email Configuration (for notifications)
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@yourdomain.com
SMTP_USE_TLS=true

# ============================================================================
# Monitoring and Logging
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production

# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PORT=9090

# ============================================================================
# Storage Configuration
# ============================================================================
# Storage backend (local, s3, azure, gcs)
STORAGE_BACKEND=local
STORAGE_PATH=/app/data

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_S3_BUCKET=resoftai-storage
AWS_S3_REGION=us-east-1

# Azure Blob Storage
AZURE_STORAGE_CONNECTION_STRING=your-connection-string
AZURE_STORAGE_CONTAINER=resoftai

# Google Cloud Storage
GCS_BUCKET=resoftai-storage
GCS_CREDENTIALS_PATH=/path/to/credentials.json

# ============================================================================
# Backup Configuration
# ============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_PATH=/backups

# ============================================================================
# Performance Tuning
# ============================================================================
# Worker processes
WORKER_PROCESSES=4
WORKER_THREADS=2

# Connection pooling
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=40
DB_POOL_TIMEOUT=30

# Cache settings
CACHE_TTL=3600
CACHE_MAX_SIZE=1000

# ============================================================================
# Feature Flags
# ============================================================================
FEATURE_WEBSOCKET_COLLABORATION=true
FEATURE_CODE_QUALITY_CHECK=true
FEATURE_TEMPLATES=true
FEATURE_MARKETPLACE=true
FEATURE_ANALYTICS=true

# ============================================================================
# Private Deployment
# ============================================================================
# License key for enterprise features
LICENSE_KEY=your-enterprise-license-key

# Offline mode (no external API calls for validation)
OFFLINE_MODE=false

# Custom branding
BRANDING_LOGO_URL=/static/logo.png
BRANDING_COMPANY_NAME=Your Company
BRANDING_SUPPORT_EMAIL=support@yourdomain.com
