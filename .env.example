# ============================================
# ResoftAI Development Environment Configuration
# ============================================
# Copy this file to .env and fill in your actual values
# cp .env.example .env

# ============================================
# LLM Provider Configuration
# ============================================
# Supported providers: deepseek, anthropic, openai, google, moonshot, zhipu, minimax
LLM_PROVIDER=deepseek
LLM_API_KEY=your_api_key_here
LLM_MODEL=deepseek-chat
LLM_MAX_TOKENS=8192
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.95
LLM_BASE_URL=

# ============================================
# Database Configuration
# ============================================
# For development (local)
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/resoftai

# For Docker development
# DATABASE_URL=postgresql+asyncpg://postgres:postgres@postgres:5432/resoftai_dev

# For testing
# TEST_DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/resoftai_test

# ============================================
# JWT Authentication Configuration
# ============================================
JWT_SECRET_KEY=your-secret-key-change-in-production-please
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# Platform Configuration
# ============================================
RESOFTAI_WORKSPACE=/tmp/resoftai-workspace
RESOFTAI_LOG_LEVEL=INFO

# ============================================
# API Server Configuration
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=false
API_ENABLE_WEBSOCKET=true
API_WORKERS=4

# Performance Optimization Configuration
# Redis Cache
REDIS_URL=redis://localhost:6379/0
ENABLE_CACHE=true
DEFAULT_CACHE_TTL=300

# Performance Monitoring
ENABLE_PERFORMANCE_MONITORING=true
PERFORMANCE_MAX_SAMPLES=1000
SLOW_QUERY_THRESHOLD=0.1

# WebSocket Optimization
WS_PING_TIMEOUT=60
WS_PING_INTERVAL=25
WS_MAX_HTTP_BUFFER_SIZE=1048576
WS_COMPRESSION_THRESHOLD=1024
WS_BATCH_SIZE=10
WS_BATCH_FLUSH_INTERVAL=0.1

# Database Connection Pool
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600

# Rate Limiting
API_RATE_LIMIT=100
WS_CONNECTION_RATE_LIMIT=20

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_SQL=false

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================
# Development Settings
# ============================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=DEBUG

# Enable hot reload in development
RELOAD=true

# Python settings
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1

# ============================================
# Optional: Email Configuration
# ============================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM=noreply@resoftai.com

# ============================================
# Optional: Monitoring & Analytics
# ============================================
# SENTRY_DSN=https://...@sentry.io/...
# GOOGLE_ANALYTICS_ID=G-...

# ============================================
# Setup Instructions
# ============================================
# 1. Copy this file to .env: cp .env.example .env
# 2. Update LLM_API_KEY with your actual API key
# 3. Update DATABASE_URL if needed (default: local PostgreSQL)
# 4. Generate a secure JWT_SECRET_KEY: openssl rand -hex 32
# 5. Install PostgreSQL if not already installed
# 6. Create database: createdb resoftai
# 7. Install Redis for caching: apt-get install redis-server (optional but recommended)
# 8. Run database migrations: alembic upgrade head
# 9. Start the server: python -m resoftai.api.server or make dev
